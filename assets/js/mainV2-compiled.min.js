"use strict";function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,normalCompletion=!0,didErr=!1,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var g=function g(k){return document.querySelector(k)},gA=function gA(k){return document.querySelectorAll(k)},MD=function(){function MD(){_classCallCheck(this,MD),this.g=function(k){return document.querySelector(k)},this.gA=function(k){return document.querySelectorAll(k)},this.back=localStorage.getItem("md-back")||"",this._initializeDefaults()}return _createClass(MD,[{key:"_initializeDefaults",value:function _initializeDefaults(){var _this=this,allDefaults=gA("[md-data]");if(allDefaults.length){var _iterator=_createForOfIteratorHelper(allDefaults),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var artdefault;_step.value.addEventListener("click",(function(e){var target=e.currentTarget,gobackSector=g("#"+target.getAttribute("md-data"));gobackSector.classList.contains("art-md-show")||_this.initialShow(gobackSector)}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}}},{key:"init",value:function init(){var thisModal=this.g(".art-md-show");thisModal&&(this.back=thisModal.id,localStorage.setItem("md-back",thisModal.id),thisModal.classList.remove("art-md-show"),thisModal.classList.add("art-md-hide"),thisModal.classList.add(thisModal.getAttribute("tag-data")))}},{key:"defaultTemplate",value:function defaultTemplate(id,header,content,footer){var addheader=function addheader(){return void 0!==header?'<div class="art-js-header-content">'.concat(header,"</div>"):""},addFooter=function addFooter(){return"function"==typeof footer?'<div class="art-md-footer"> '.concat(footer()," </div>"):"string"==typeof footer?'<div class="art-md-footer"> '.concat(footer," </div>"):""},tmp;return'<div class="art-main-modal art-md-hide right" id="'.concat(id,'" tag-data-back="right" tag-data="left">\n                    \x3c!-- Section md header --\x3e\n                    <div class="art-md-header"> \n                    <button class="art-btn-no-mt art-btn waves-effect waves-ripple art-md-back" id="').concat(id,'_back">Back</button>\n                        ').concat(addheader(),'\n                    </div>\n                    \x3c!-- Main js content  --\x3e\n                    <div class="art-md-content">\n                    ').concat("function"==typeof content?this.mlt(content()):"string"==typeof content?content:"","   \n                    </div>\n                    ").concat(addFooter(),"\n                </div>")}},{key:"write",value:function write(){var _this2=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},cb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){var id=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},id=options.id,header=options.header,content=options.content,footer=options.footer;this.init(),localStorage.setItem("md-showing",id);var mainSection=this.g(".art-main-section"),tmp=this.defaultTemplate(id,header,content,footer);return this.g("#"+options.id)?this.existSector(id):(mainSection.insertAdjacentHTML("BeforeEnd",tmp),setTimeout((function(){_this2.existSector(id)}),20)),cb&&cb(id),this.initializeBack(id),tmp}},{key:"initializeBack",value:function initializeBack(currentID){var _this3=this,gobackBtn=this.g("#"+currentID+" .art-md-back"),current_back=localStorage.getItem("md-back");localStorage.setItem("md-back",this.back),gobackBtn.addEventListener("click",(function(e){var gobackSector=_this3.g("#"+current_back);_this3.autoShow(gobackSector,currentID)}))}},{key:"initialShow",value:function initialShow(gobackSector,currentID){var currentSector=currentID?this.g("#"+currentID):this.g(".art-md-show")?this.gA(".art-md-show"):"";function showElemnt(currentSector){currentSector&&currentSector.id?(currentSector.classList.add("left"),currentSector.classList.remove("art-md-show"),currentSector.classList.add("art-md-hide"),currentSector.id&&localStorage.setItem("md-back",currentSector.id)):window.event.currentTarget.parentElement.classList.contains("art-main-section")&&((currentSector=window.event.currentTarget.parentElement)&&!currentSector.classList.contains("art-main-section")?(currentSector.classList.add("left"),currentSector.classList.remove("art-md-show"),currentSector.classList.add("art-md-hide"),currentSector.id?localStorage.setItem("md-back",currentSector.id):(currentSector.id=currentSector.nodeName+currentSector.className.split(" ").join("_"),1===document.querySelectorAll("#"+currentSector.id).length?localStorage.setItem("md-back",currentSector.id):(currentSector.id=currentSector.nodeName+currentSector.className.split(" ").join("_")+Date.now(),localStorage.setItem("md-back",currentSector.id)))):(currentSector=window.event.currentTarget)&&(currentSector.classList.add("left"),currentSector.classList.remove("art-md-show"),currentSector.classList.add("art-md-hide"),currentSector.id=currentSector.nodeName+currentSector.className.split(" ").join("_"),1===document.querySelectorAll("#"+currentSector.id).length?localStorage.setItem("md-back",currentSector.id):(currentSector.id=currentSector.nodeName+currentSector.className.split(" ").join("_")+Date.now(),localStorage.setItem("md-back",currentSector.id))))}if(currentSector&&"object"!==_typeof(currentSector))localStorage.setItem("md-back",currentSector.id);else if(currentSector&&"object"===_typeof(currentSector)&&currentSector.length){var _iterator2=_createForOfIteratorHelper(currentSector),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _currentSector;showElemnt(currentSector=_step2.value)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}else showElemnt(currentSector=window.event.currentTarget);gobackSector&&(gobackSector.classList.add("art-md-show"),gobackSector.classList.remove("art-md-hide"),gobackSector.classList.remove(gobackSector.getAttribute("tag-data")),gobackSector.classList.remove(gobackSector.getAttribute("tag-data-back")),currentSector.classList.remove("art-md-show"),currentSector.classList.add("art-md-hide"),currentSector.classList.add(currentSector.getAttribute("tag-data")),this.initializeBack(gobackSector.id))}},{key:"autoShow",value:function autoShow(gobackSector,currentID){var currentSector=currentID?this.g("#"+currentID):this.g(".art-md-show");localStorage.setItem("md-back",currentSector.id),gobackSector&&(gobackSector.classList.add("art-md-show"),gobackSector.classList.remove("art-md-hide"),gobackSector.classList.remove(gobackSector.getAttribute("tag-data")),gobackSector.classList.remove(gobackSector.getAttribute("tag-data-back")),currentSector.classList.remove("art-md-show"),currentSector.classList.add("art-md-hide"),currentSector.classList.add(currentSector.getAttribute("tag-data-back")))}},{key:"existSector",value:function existSector(id){var alreadyThereModal=this.g("#"+id);alreadyThereModal.classList.add("art-md-show"),alreadyThereModal.classList.remove("art-md-hide"),alreadyThereModal.classList.remove(alreadyThereModal.getAttribute("tag-data")),alreadyThereModal.classList.remove(alreadyThereModal.getAttribute("tag-data-back"))}},{key:"mlt",value:function mlt(k){for(var k_="",i=0;i<100;i++)k_+=k;return k_}}]),MD}();